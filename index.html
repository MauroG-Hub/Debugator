<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title> IDEB - Reporte de Servicios</title>
  <link rel="stylesheet" href="CSS/Styles.css">
  <script src="Scripts/FrontEnd.js" defer></script>

</head>
<body>
   <header class="header-bar">
    <img src="Pictures/Logo.png" alt="Logo de la compañía" class="logo" />
    <h1>Reporte de Servicios</h1>
  </header>
  
 <main class="main-scroll">
    <div class="main-content">
    <form id="serviceReport">
    <label>Fecha del Servicio:</label>
    <input type="date" name="fecha_servicio" required>

    <label>Nombre del Técnico:</label>
    <input type="text" name="tecnico" required>

    <label>Empresa / Cliente:</label>
    <input type="text" name="empresa_cliente" required>

    <label>Descripción del Servicio:</label>
    <textarea name="descripcion" rows="4" required></textarea>

    <label>Materiales Utilizados:</label>
    <textarea name="materiales" rows="3"></textarea>

   <label>Fechas:</label>
	<table>
	  <thead>
		<tr>
		  <th>#</th>
		  <th>Fecha</th>
		  <th>Horas Trabajadas</th>
		  <th>Acción</th>
		</tr>
	  </thead>
	  <tbody id="tablaHoras">
		<!-- Las filas se insertan dinámicamente -->
	  </tbody>
	</table>
	<button type="button" class="boton-glossy boton-azul" onclick="agregarFila()">Agregar Día</button>

    <label>Nombre de quien recibe:</label>
    <input type="text" name="persona_recibe" required>

    <label>Comentarios del cliente:</label>
    <textarea name="descripcion" rows="4" required></textarea>
	
	<label>Firma:</label>
	<button type="button" class="boton-glossy boton-azul" onclick="abrirModalFirma()">Firmar</button>



    <label>Fecha de la Firma:</label>
    <input type="date" name="fecha_firma" required>

    <button type="submit" class="boton-glossy boton-azul">Guardar Reporte</button>
    </form>
    </div>
  </main>
  
    <footer class="footer-bar">
    IDEB © 2025 - Todos los derechos reservados
  </footer>
  
  <div id="modalFirma" class="modal-firma">
  <div class="modal-contenido">
    <h3>Firma del Cliente</h3>
    <canvas id="canvasFirma" width="400" height="200"></canvas>
    <div class="firma-botones">
      <button type="button" class="boton-glossy boton-rojo" onclick="limpiarFirma()">Limpiar</button>
      <button type="button" class="boton-glossy boton-verde" onclick="guardarFirma()">Guardar</button>
      <button type="button" class="boton-glossy boton-rojo" onclick="cerrarModalFirma()">Cancelar</button>
    </div>
  </div>
</div>

<!-- Campo oculto para guardar la imagen base64 -->
<input type="hidden" id="firmaGuardada" name="firmaGuardada">


  <script>
    document.getElementById('serviceReport').addEventListener('submit', function(e) {
      e.preventDefault();
      alert("Reporte guardado (aquí iría la lógica para enviar o guardar los datos).");
      // Aquí podrías enviar los datos a un servidor o descargarlos como archivo, según lo necesites.
    });
  </script>
</body>
</html>
