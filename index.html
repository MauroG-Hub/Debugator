<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title> IDEB - Reporte de Servicios</title>
  <link rel="stylesheet" href="CSS/Styles.css">
  <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js" defer></script>
  <script src="Scripts/FrontEnd.js" defer></script>
  <script type="module"  src="Scripts/GenerateFile.js" defer></script>
  

</head>
<body>
   <header class="header-bar">
    <img src="Pictures/Logo.png" alt="Logo de la compañía" class="logo" />
    <h1>Reporte de Servicios</h1>
  </header>
  
 <main class="main-scroll">
    <div class="main-content">
    <form id="serviceReport">

    <label>Nombre del Técnico:</label>
  <input type="text" name="tecnico" required>

  <label>Cliente:</label>
  <input type="text" name="empresa_cliente" required>

  <label>Persona Contacto:</label>
  <input type="text" name="persona_contacto" required>

  <label>Motivo de la Solicitud:</label>
  <input type="text" name="motivo_solicitud" required>

  <label>Descripción del Servicio:</label>
  <textarea name="descripcion_servicio" rows="4" required></textarea>

  <label>Plan de Trabajo:</label>
  <textarea name="plan_trabajo" rows="4" required></textarea>

<div class="form-group">
  <label for="tipoServicio">Tipo de Servicio:</label>
  <select id="tipoServicio"  name="tipo_servicio" required class="input-estilizado" onchange="verificarOtro()">
    <option value="">-- Selecciona un tipo --</option>
    <option value="Preventivo">Preventivo</option>
    <option value="Correctivo">Correctivo</option>
    <option value="Modificado">Modificado</option>
    <option value="Mal Funcionamiento">Mal Funcionamiento</option>
    <option value="Otro">Otro</option>
  </select>
</div>

<!-- Este bloque se mostrará solo si se selecciona "Otro" -->
<div id="campoEspecifique" class="form-group">
  <label>Especifique:</label>
  <input type="text" id="especifique" name="especifique">
</div>


   <label>Fechas:</label>
	<table>
    <thead>
      <tr>
        <th>#</th>
        <th>Fecha</th>
        <th>Entrada</th>
        <th>Salida</th>
        <th>Acción</th>
      </tr>
</thead>
	  <tbody id="tablaHoras">
		<!-- Las filas se insertan dinámicamente -->
	  </tbody>
	</table>
	<button type="button" class="boton-glossy boton-azul" onclick="agregarFila()">Agregar Día</button>


   <label>Comentarios del Cliente:</label>
  <textarea name="comentarios_cliente" rows="4" required></textarea>

  <label>Firma:</label>
  <button type="button" class="boton-glossy boton-azul" onclick="abrirModalFirma()">Firmar</button>

  <label>Fecha de la Firma:</label>
  <input type="date" name="fecha_firma" required>

    <button type="submit" class="boton-glossy boton-azul">Guardar Reporte</button>
    </form>
    </div>
  </main>
  
    <footer class="footer-bar">
    IDEB © 2025 - Todos los derechos reservados
  </footer>
  
  <div id="modalFirma" class="modal-firma">
  <div class="modal-contenido">
    <h3>Firma del Cliente</h3>
    <canvas id="canvasFirma" width="400" height="200"></canvas>
    <div class="firma-botones">
      <button type="button" class="boton-glossy boton-rojo" onclick="limpiarFirma()">Limpiar</button>
      <button type="button" class="boton-glossy boton-verde" onclick="guardarFirma()">Guardar</button>
      <button type="button" class="boton-glossy boton-rojo" onclick="cerrarModalFirma()">Cancelar</button>
    </div>
  </div>
</div>

<!-- Campo oculto para guardar la imagen base64 -->
<input type="hidden" id="firmaGuardada" name="firmaGuardada">

</body>
</html>
